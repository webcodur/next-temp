info:
  title: New Hub
  description: The New Hub API description
  version: '1.0'
  contact: {}
tags: []
servers: []
components:
  securitySchemes:
    bearer:
      scheme: bearer
      bearerFormat: JWT
      type: http
  schemas:
    AuthDto:
      type: object
      properties:
        account:
          type: string
          description: 사용자 계정
          example: super_admin
        password:
          type: string
          description: 사용자 비밀번호
          example: super123!
      required:
        - account
        - password
    ParkinglotDtoSnakeCase:
      type: object
      properties:
        id:
          type: number
          description: 주차장 ID
          example: 1
        code:
          type: string
          description: 주차장 코드
          example: NAJU_EDUCASTLE
        name:
          type: string
          description: 주차장 이름
          example: 나주 에듀캐슬
        description:
          type: string
          description: 주차장 설명
          example: 나주 지역 에듀캐슬 아파트 주차장
        created_at:
          type: string
          description: 주차장 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 주차장 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
      required:
        - id
        - code
        - name
        - created_at
        - updated_at
    TokenResponseDto:
      type: object
      properties:
        access_token:
          type: string
          description: 액세스 토큰
          example: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9...
        refresh_token:
          type: string
          description: 리프레시 토큰
          example: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9...
        parkinglots:
          description: 주차장 목록
          type: array
          items:
            $ref: '#/components/schemas/ParkinglotDtoSnakeCase'
      required:
        - access_token
        - refresh_token
        - parkinglots
    ApiMessageResponseDto:
      type: object
      properties:
        message:
          type: string
          description: 응답 메시지
          example: Operation completed successfully
          examples:
            menuUpdate:
              summary: 메뉴 업데이트
              value: Menu order updated successfully
            userAction:
              summary: 사용자 액션
              value: User login updated successfully
            dataSync:
              summary: 데이터 동기화
              value: Data sync completed successfully
      required:
        - message
    RefreshTokenDto:
      type: object
      properties:
        refresh_token:
          type: string
          description: 리프레시 토큰
          example: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9...
      required:
        - refresh_token
    TokenRefreshResponseDto:
      type: object
      properties:
        access_token:
          type: string
          description: 액세스 토큰
          example: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9...
        refresh_token:
          type: string
          description: 리프레시 토큰
          example: eyJhbGciOiJFUzI1NiIsInR5cCI6IkpXVCJ9...
      required:
        - access_token
        - refresh_token
    CreateAdminDto:
      type: object
      properties:
        account:
          type: string
          description: 관리자 계정명
          example: testAccount
        role_id:
          type: number
          description: 관리자 역할 ID
          example: 1
        name:
          type: string
          description: 관리자 이름
          example: 테스트 관리자
        email:
          type: string
          description: 이메일 주소
          example: test@test.com
        password:
          type: string
          description: 비밀번호
          example: test123!
        phone:
          type: string
          description: 전화번호
          example: 010-1234-5678
      required:
        - account
        - role_id
        - name
        - password
    RoleInfo:
      type: object
      properties:
        id:
          type: number
          description: 역할 ID
          example: 1
        code:
          type: string
          description: 역할 코드
          example: ADMIN
        name:
          type: string
          description: 역할 이름
          example: 관리자
        description:
          type: string
          description: 역할 설명
          example: 시스템 관리자
      required:
        - id
        - code
        - name
    ParkinglotDto:
      type: object
      properties:
        id:
          type: number
          description: 주차장 ID
          example: 1
        code:
          type: string
          description: 주차장 코드
          example: NAJU_EDUCASTLE
        name:
          type: string
          description: 주차장 이름
          example: 나주 에듀캐슬
        description:
          type: string
          description: 주차장 설명
          example: 나주 지역 에듀캐슬 아파트 주차장
        created_at:
          type: string
          description: 주차장 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 주차장 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
      required:
        - id
        - code
        - name
        - description
        - created_at
        - updated_at
    AdminDto:
      type: object
      properties:
        id:
          type: number
          description: 관리자 ID
          example: 1
        account:
          type: string
          description: 관리자 계정명
          example: admin01
        role_id:
          type: number
          description: 관리자 역할 ID
          example: 1
        parkinglot_id:
          type: number
          description: 담당 주차장 ID (null이면 모든 주차장 접근 가능)
          example: 1
        role:
          description: 관리자 역할 정보
          allOf:
            - $ref: '#/components/schemas/RoleInfo'
        parkinglot:
          description: 담당 주차장 정보
          allOf:
            - $ref: '#/components/schemas/ParkinglotDto'
        name:
          type: string
          description: 관리자 이름
          example: 홍길동
        email:
          type: string
          description: 이메일 주소
          example: admin@example.com
        phone:
          type: string
          description: 전화번호
          example: 010-1234-5678
        created_at:
          format: date-time
          type: string
          description: 생성일시
          example: '2024-01-01T00:00:00.000Z'
        updated_at:
          format: date-time
          type: string
          description: 수정일시
          example: '2024-01-01T00:00:00.000Z'
      required:
        - id
        - account
        - role_id
        - created_at
        - updated_at
    PageMetaDto:
      type: object
      properties:
        total_items:
          type: number
          description: 전체 아이템 개수
          example: 100
        current_page:
          type: number
          description: 현재 페이지 번호
          example: 1
        items_per_page:
          type: number
          description: 페이지 당 아이템 수
          example: 10
        total_pages:
          type: number
          description: 전체 페이지 수
          example: 10
      required:
        - total_items
        - current_page
        - items_per_page
        - total_pages
    PageDto:
      type: object
      properties:
        data:
          type: array
          items:
            type: array
        meta:
          $ref: '#/components/schemas/PageMetaDto'
      required:
        - data
        - meta
    UpdateAdminDto:
      type: object
      properties:
        role_id:
          type: number
          description: 관리자 역할 ID
          example: 1
        name:
          type: string
          description: 관리자 이름
        email:
          type: string
          description: 이메일 주소
        password:
          type: string
          description: 비밀번호
          example: 개발 중 비밀번호 변경은 가능하나 추후 고도화 예정
        phone:
          type: string
          description: 전화번호
    NoContentResponseDto:
      type: object
      properties: {}
    ConfigDto:
      type: object
      properties:
        id:
          type: number
          description: 설정 ID
          example: 1
        config_key:
          type: string
          description: 설정 키
          example: config_key
        config_value:
          type: string
          description: 설정 값
          example: 'false'
        config_type:
          type: string
          description: 설정 타입
          example: BOOLEAN
        is_active:
          type: boolean
          description: 설정 활성화 여부
          example: true
        created_at:
          type: object
          description: 설정 생성일시
          example: '2025-01-01T00:00:00.000Z'
        updated_at:
          type: object
          description: 설정 수정일시
          example: '2025-01-01T00:00:00.000Z'
      required:
        - id
        - config_key
        - config_value
        - config_type
        - is_active
        - created_at
        - updated_at
    UpdateConfigDto:
      type: object
      properties:
        config_value:
          type: string
          description: 설정값
          example: '1234567890'
      required:
        - config_value
    ApiResponseDto:
      type: object
      properties:
        success:
          type: boolean
          description: 요청 성공 여부
          example: true
        data:
          type: object
          description: 응답 데이터
        message:
          type: string
          description: 응답 메시지
        timestamp:
          type: string
          description: 응답 시간
          example: '2025-06-11T14:38:49.000Z'
      required:
        - success
        - data
        - timestamp
    BlockedIpInfoDto:
      type: object
      properties:
        ip:
          type: string
          description: IP 주소
          example: 192.168.1.100
        blocked_at:
          format: date-time
          type: string
          description: 차단된 시간
          example: '2025-07-11T10:00:00.000Z'
        reason:
          type: string
          description: 차단 사유
          example: 과도한 요청
        user_agent:
          type: string
          description: User Agent
          example: Mozilla/5.0...
        attempts:
          type: number
          description: 시도 횟수
          example: 5
        remaining_time:
          type: number
          description: 남은 차단 시간 (초)
          example: 300
        is_permanent:
          type: boolean
          description: 영구 차단 여부
          example: false
      required:
        - ip
        - blocked_at
        - reason
        - attempts
    UnblockIpDto:
      type: object
      properties:
        ip:
          type: string
          description: 차단 해제할 IP 주소
          example: 192.168.1.100
      required:
        - ip
    BlockHistoryResponseDto:
      type: object
      properties:
        id:
          type: number
          description: ID
          example: 1
        ip:
          type: string
          description: IP 주소
          example: 192.168.1.100
        block_type_id:
          type: number
          description: 차단 타입 ID
          example: 1
        block_type:
          type: object
          description: 차단 타입
          example:
            code: BOT
            description: 봇 차단
        user_agent:
          type: object
          description: User Agent
          example: Mozilla/5.0...
          nullable: true
        request_method:
          type: object
          description: 요청 메소드
          example: POST
          nullable: true
        request_url:
          type: object
          description: 요청 URL
          example: /api/auth/login
          nullable: true
        block_reason:
          type: string
          description: 차단 사유
          example: 잘못된 로그인 시도
        matched_pattern:
          type: object
          description: 매칭된 패턴
          example: bot|crawler
          nullable: true
        block_duration:
          type: number
          description: 차단 기간 (초)
          example: 600
        is_active:
          type: boolean
          description: 활성화 여부
          example: true
        unblocked_at:
          type: object
          description: 차단 해제 시간
          example: '2025-07-11T10:00:00.000Z'
          nullable: true
        unblocked_by:
          type: object
          description: 차단 해제한 사용자 ID
          example: 1
          nullable: true
        created_at:
          format: date-time
          type: string
          description: 생성일시
          example: '2025-07-11T10:00:00.000Z'
        updated_at:
          format: date-time
          type: string
          description: 수정일시
          example: '2025-07-11T10:00:00.000Z'
      required:
        - id
        - ip
        - block_type_id
        - block_type
        - block_reason
        - block_duration
        - is_active
        - created_at
        - updated_at
    MenuResponseDto:
      type: object
      properties:
        id:
          type: number
          description: 메뉴 ID
          example: 1
        name:
          type: string
          description: 메뉴 이름
          example: 주차관리
        url:
          type: string
          description: 메뉴 URL
          example: /parking
        parent_id:
          type: number
          description: 부모 메뉴 ID
          example: 0
        sort:
          type: number
          description: 정렬 순서
          example: 1
        depth:
          type: number
          description: 메뉴 깊이
          example: 1
        children:
          description: 하위 메뉴 목록
          type: array
          items:
            $ref: '#/components/schemas/MenuResponseDto'
      required:
        - id
        - name
        - sort
        - depth
        - children
    UserRoleInfo:
      type: object
      properties:
        id:
          type: number
          description: 역할 ID
          example: 1
        code:
          type: string
          description: 역할 코드
          example: ADMIN
        name:
          type: string
          description: 역할 이름
          example: 관리자
      required:
        - id
        - code
        - name
    ParkingLotInfo:
      type: object
      properties:
        id:
          type: number
          description: 주차장 ID
          example: 1
        code:
          type: string
          description: 주차장 코드
          example: LOT001
        name:
          type: string
          description: 주차장 이름
          example: 강남 주차장
        description:
          type: string
          description: 주차장 설명
          example: 강남구 소재 대형 주차장
        created_at:
          format: date-time
          type: string
          description: 주차장 생성일
          example: '2021-01-01'
        updated_at:
          format: date-time
          type: string
          description: 주차장 수정일
          example: '2021-01-01'
      required:
        - id
        - code
        - name
    MenuListResponseDto:
      type: object
      properties:
        menus:
          description: 계층 구조로 정렬된 메뉴 목록
          type: array
          items:
            $ref: '#/components/schemas/MenuResponseDto'
        total_count:
          type: number
          description: 총 메뉴 개수
          example: 15
        user_role:
          description: 사용자 역할 정보
          allOf:
            - $ref: '#/components/schemas/UserRoleInfo'
        parkinglot:
          description: 주차장 정보
          allOf:
            - $ref: '#/components/schemas/ParkingLotInfo'
        version:
          type: number
          description: 데이터 버전 (마지막 메뉴 업데이트 시간의 타임스탬프)
          example: 1704067200000
        cache_max_age:
          type: number
          description: 캐시 유효 시간 (초)
          example: 1800
      required:
        - menus
        - total_count
        - version
    UpdateMenuOrderDto:
      type: object
      properties:
        new_order:
          type: number
          description: 변경할 순서 (1부터 시작)
          example: 3
      required:
        - new_order
    ParkingLotMenuResponseDto:
      type: object
      properties:
        parkinglot:
          description: 주차장 정보
          allOf:
            - $ref: '#/components/schemas/ParkingLotInfo'
        menus:
          description: 주차장에 할당된 메뉴 목록
          type: array
          items:
            $ref: '#/components/schemas/MenuResponseDto'
        total_count:
          type: number
          description: 총 메뉴 개수
          example: 15
      required:
        - parkinglot
        - menus
        - total_count
    AssignMenuToParkingLotDto:
      type: object
      properties:
        menu_ids:
          description: 할당할 메뉴 ID 목록
          example:
            - 1
            - 2
            - 3
          type: array
          items:
            type: number
      required:
        - menu_ids
    RemoveMenuFromParkingLotDto:
      type: object
      properties:
        menu_ids:
          description: 제거할 메뉴 ID 목록
          example:
            - 1
            - 2
          type: array
          items:
            type: number
      required:
        - menu_ids
    MoveResidentDto:
      type: object
      properties:
        resident_id:
          type: number
          description: 이동할 거주자 ID
          example: 123
        target_household_instance_id:
          type: number
          description: 목적지 세대 인스턴스 ID
          example: 456
        relationship:
          type: string
          description: 변경할 관계 유형 (선택사항)
          enum:
            - HEAD
            - SPOUSE
            - CHILD
            - PARENT
            - MEMBER
            - TEMP
          example: HEAD
        memo:
          type: string
          description: 메모 (선택사항)
          example: 새로운 세대 이동
      required:
        - resident_id
        - target_household_instance_id
    ParkinglotInfoDto:
      type: object
      properties:
        id:
          type: number
          description: 주차장 ID
          example: 1
        code:
          type: string
          description: 주차장 코드
          example: NAJU_EDUCASTLE
        name:
          type: string
          description: 주차장 이름
          example: 나주 에듀캐슬
        description:
          type: string
          description: 주차장 설명
          example: 나주 지역 에듀캐슬 아파트 주차장
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
      required:
        - id
        - code
        - name
        - created_at
        - updated_at
    HouseholdInfoDto:
      type: object
      properties:
        id:
          type: number
          description: 세대 ID
          example: 1
        parkinglot_id:
          type: number
          description: 주차장 ID
          example: 1
        address_1depth:
          type: string
          description: 주소 1차 (동)
          example: 101동
        address_2depth:
          type: string
          description: 주소 2차 (호수)
          example: 1001호
        address_3depth:
          type: string
          description: 주소 3차 (상세주소)
          example: 전남 나주시 에듀캐슬로 123
        household_type:
          type: string
          description: 세대 유형
          example: GENERAL
          enum:
            - GENERAL
            - COMMERCIAL
            - TEMP
        memo:
          type: string
          description: 메모
          example: 일반 세대
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        parkinglot:
          description: 주차장 정보
          allOf:
            - $ref: '#/components/schemas/ParkinglotInfoDto'
      required:
        - id
        - parkinglot_id
        - address_1depth
        - address_2depth
        - household_type
        - created_at
        - updated_at
        - parkinglot
    HouseholdInstanceInfoDto:
      type: object
      properties:
        id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        household_id:
          type: number
          description: 세대 ID
          example: 1
        instance_name:
          type: string
          description: 인스턴스 이름
          example: 김철수 가족
        password:
          type: string
          description: 세대 비밀번호
          example: '1234'
        start_date:
          type: string
          description: 시작일
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        end_date:
          type: string
          description: 종료일
          example: '2025-12-31T00:00:00.000Z'
          format: date-time
        memo:
          type: string
          description: 메모
          example: 2025년 입주
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        household:
          description: 세대 정보
          allOf:
            - $ref: '#/components/schemas/HouseholdInfoDto'
      required:
        - id
        - household_id
        - created_at
        - updated_at
        - household
    ResidentHouseholdDto:
      type: object
      properties:
        id:
          type: number
          description: 거주자-세대 관계 ID
          example: 1
        resident_id:
          type: number
          description: 거주자 ID
          example: 1
        household_instance_id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        relationship:
          type: string
          description: 관계
          example: HEAD
          enum:
            - HEAD
            - SPOUSE
            - CHILD
            - PARENT
            - OTHER
        memo:
          type: string
          description: 메모
          example: 세대주
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        household_instance:
          description: 세대 인스턴스 정보
          allOf:
            - $ref: '#/components/schemas/HouseholdInstanceInfoDto'
      required:
        - id
        - resident_id
        - household_instance_id
        - relationship
        - created_at
        - updated_at
        - household_instance
    HouseholdDto:
      type: object
      properties:
        id:
          type: number
          description: 세대 ID
          example: 1
        parkinglot_id:
          type: number
          description: 주차장 ID
          example: 1
        address_1depth:
          type: string
          description: '주소 1차 (예: 동)'
          example: 101동
        address_2depth:
          type: string
          description: '주소 2차 (예: 호수)'
          example: 101호
        address_3depth:
          type: string
          description: 주소 3차 (선택사항)
          example: 방 1
        household_type:
          type: string
          description: 세대 유형
          example: GENERAL
          enum:
            - GENERAL
            - TEMP
            - COMMERCIAL
        memo:
          type: string
          description: 메모
          example: 특이사항 없음
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
      required:
        - id
        - parkinglot_id
        - address_1depth
        - address_2depth
        - household_type
        - created_at
        - updated_at
    ResidentDto:
      type: object
      properties:
        id:
          type: number
          description: 거주자 ID
          example: 1
        name:
          type: string
          description: 이름
          example: 홍길동
        phone:
          type: string
          description: 전화번호
          example: 010-1234-5678
        email:
          type: string
          description: 이메일
          example: hong@example.com
        birth_date:
          type: string
          description: 생년월일
          example: '1990-01-01T00:00:00.000Z'
          format: date-time
        gender:
          type: string
          description: 성별
          example: M
          enum:
            - M
            - F
        emergency_contact:
          type: string
          description: 비상연락처
          example: 010-9876-5432
        memo:
          type: string
          description: 메모
          example: 특이사항 없음
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        resident_households:
          description: 거주자-세대 관계 목록
          type: array
          items:
            $ref: '#/components/schemas/HouseholdDto'
      required:
        - id
        - name
        - created_at
        - updated_at
    CreateResidentHouseholdDto:
      type: object
      properties:
        resident_id:
          type: number
          description: 거주자 ID
          example: 1
        household_instance_id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        relationship:
          type: string
          description: 관계 유형
          enum:
            - HEAD
            - SPOUSE
            - CHILD
            - PARENT
            - MEMBER
            - TEMP
          example: HEAD
        memo:
          type: string
          description: 메모
          example: 세대주
      required:
        - resident_id
        - household_instance_id
        - relationship
    UpdateResidentHouseholdDto:
      type: object
      properties:
        relationship:
          type: string
          description: 관계 유형
          enum:
            - HEAD
            - SPOUSE
            - CHILD
            - PARENT
            - MEMBER
            - TEMP
          example: SPOUSE
        memo:
          type: string
          description: 메모
          example: 배우자
    ResidentDetailDto:
      type: object
      properties:
        id:
          type: number
          description: 거주자 ID
          example: 2
        name:
          type: string
          description: 이름
          example: 이정호
        phone:
          type: string
          description: 전화번호
          example: 010-3456-7890
        email:
          type: string
          description: 이메일
          example: lee.jh@example.com
        birth_date:
          type: string
          description: 생년월일
          example: '1985-03-18T00:00:00.000Z'
          format: date-time
        gender:
          type: string
          description: 성별
          example: M
          enum:
            - M
            - F
        emergency_contact:
          type: string
          description: 비상연락처
          example: 010-3456-7891
        memo:
          type: string
          description: 메모
          example: 세대주
        created_at:
          type: string
          description: 생성일시
          example: '2025-07-24T03:07:53.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-07-24T03:07:53.000Z'
          format: date-time
        resident_households:
          description: 거주자-세대 관계 목록
          example:
            - id: 7
              resident_id: 2
              household_instance_id: 3
              relationship: HEAD
              memo: 세대주
              created_at: '2025-07-24T03:07:53.000Z'
              updated_at: '2025-07-24T03:07:53.000Z'
              household_instance:
                id: 3
                household_id: 5
                instance_name: 이정호 세대
                password: '9012'
                start_date: '2023-01-10T00:00:00.000Z'
                end_date: '2025-07-24T00:00:00.000Z'
                memo: 2023년 1월 입주한 이정호 세대
                created_at: '2025-07-24T03:07:53.000Z'
                updated_at: '2025-07-24T03:07:53.000Z'
                household:
                  id: 5
                  parkinglot_id: 2
                  address_1depth: 201동
                  address_2depth: 2501호
                  address_3depth: 경기도 성남시 아브뉴로 456
                  household_type: GENERAL
                  memo: 아브뉴프랑센트럴 일반 세대
                  created_at: '2025-07-24T03:07:53.000Z'
                  updated_at: '2025-07-24T03:07:53.000Z'
                  parkinglot:
                    id: 2
                    code: AVENUE_FRANCENTRALL
                    name: 아브뉴프랑센트럴
                    description: 아브뉴프랑센트럴 복합시설 주차장
                    created_at: '2025-07-24T03:07:53.000Z'
                    updated_at: '2025-07-24T03:07:53.000Z'
          type: array
          items:
            $ref: '#/components/schemas/ResidentHouseholdDto'
      required:
        - id
        - name
        - created_at
        - updated_at
        - resident_households
    UpdateResidentDto:
      type: object
      properties:
        name:
          type: string
          description: 거주자 이름
          example: 김철수
          maxLength: 50
        phone:
          type: string
          description: 전화번호
          example: 010-1234-5678
          maxLength: 20
        email:
          type: string
          description: 이메일
          example: kim@example.com
          maxLength: 100
        birth_date:
          type: string
          description: 생년월일
          example: '1990-01-01'
        gender:
          type: string
          description: 성별
          enum:
            - M
            - F
          example: M
        emergency_contact:
          type: string
          description: 비상연락처
          example: 010-9876-5432
          maxLength: 20
        memo:
          type: string
          description: 메모
          example: 주거주자
    CreateHouseholdDto:
      type: object
      properties:
        address_1depth:
          type: string
          description: '동 정보'
          example: '101'
        address_2depth:
          type: string
          description: '호수 정보'
          example: '1104'
        address_3depth:
          type: string
          description: 기타 주소 정보
          example: null
        household_type:
          type: string
          description: 세대 유형
          enum:
            - GENERAL
            - TEMP
            - COMMERCIAL
          example: GENERAL
        memo:
          type: string
          description: 메모
          example: 남향, 3층
      required:
        - address_1depth
        - address_2depth
        - household_type
    HouseholdWithParkinglotDto:
      type: object
      properties:
        id:
          type: number
          description: 세대 ID
          example: 1
        parkinglot_id:
          type: number
          description: 주차장 ID
          example: 1
        address_1depth:
          type: string
          description: '주소 1차 (예: 동)'
          example: 101동
        address_2depth:
          type: string
          description: '주소 2차 (예: 호수)'
          example: 101호
        address_3depth:
          type: string
          description: 주소 3차 (선택사항)
          example: 방 1
        household_type:
          type: string
          description: 세대 유형
          example: GENERAL
          enum:
            - GENERAL
            - TEMP
            - COMMERCIAL
        memo:
          type: string
          description: 메모
          example: 특이사항 없음
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        parkinglot:
          description: 주차장 정보
          allOf:
            - $ref: '#/components/schemas/ParkinglotDtoSnakeCase'
      required:
        - id
        - parkinglot_id
        - address_1depth
        - address_2depth
        - household_type
        - created_at
        - updated_at
        - parkinglot
    HouseholdWithParkinglotAndInstancesDto:
      type: object
      properties:
        id:
          type: number
          description: 세대 ID
          example: 1
        parkinglot_id:
          type: number
          description: 주차장 ID
          example: 1
        address_1depth:
          type: string
          description: '주소 1차 (예: 동)'
          example: 101동
        address_2depth:
          type: string
          description: '주소 2차 (예: 호수)'
          example: 101호
        address_3depth:
          type: string
          description: 주소 3차 (선택사항)
          example: 방 1
        household_type:
          type: string
          description: 세대 유형
          example: GENERAL
          enum:
            - GENERAL
            - TEMP
            - COMMERCIAL
        memo:
          type: string
          description: 메모
          example: 특이사항 없음
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        parkinglot:
          description: 주차장 정보
          allOf:
            - $ref: '#/components/schemas/ParkinglotDtoSnakeCase'
        household_instance:
          description: 세대 인스턴스 목록
          items:
            type: array
          type: array
      required:
        - id
        - parkinglot_id
        - address_1depth
        - address_2depth
        - household_type
        - created_at
        - updated_at
        - parkinglot
        - household_instance
    HouseholdInstanceDto:
      type: object
      properties:
        id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        household_id:
          type: number
          description: 세대 ID
          example: 1
        instance_name:
          type: string
          description: 인스턴스 이름
          example: 김철수 가족
        password:
          type: string
          description: 패스워드 (4자리)
          example: '1234'
        start_date:
          type: string
          description: 시작일
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        end_date:
          type: string
          description: 종료일
          example: '2025-12-31T00:00:00.000Z'
          format: date-time
        memo:
          type: string
          description: 멤모
          example: 특이사항 없음
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
      required:
        - id
        - household_id
        - password
        - created_at
        - updated_at
    UpdateHouseholdDto:
      type: object
      properties:
        address_1depth:
          type: string
          description: '주소 1단계 (예: 동)'
          example: '101'
        address_2depth:
          type: string
          description: '주소 2단계 (예: 호수)'
          example: '1104'
        address_3depth:
          type: string
          description: 주소 3단계 (기타 주소)
          example: null
        household_type:
          type: string
          description: 세대 유형
          enum:
            - GENERAL
            - TEMP
            - COMMERCIAL
          example: GENERAL
        memo:
          type: string
          description: 메모
          example: 남향, 3층
    CreateHouseholdInstanceDto:
      type: object
      properties:
        instance_name:
          type: string
          description: 인스턴스 이름 (가족명 등)
          example: 김씨가족
        password:
          type: string
          description: 세대 비밀번호 (4자리 숫자)
          example: '1234'
        start_date:
          type: string
          description: 입주 시작일
          example: '2024-01-01'
        end_date:
          type: string
          description: 입주 종료일
          example: '2025-12-31'
        memo:
          type: string
          description: 메모
          example: 2년 계약
    HouseholdServiceConfigDto:
      type: object
      properties:
        id:
          type: number
          description: 서비스 설정 ID
          example: 1
        household_instance_id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        can_add_new_resident:
          type: boolean
          description: 새 거주자 추가 가능 여부
          example: true
        is_common_entrance_subscribed:
          type: boolean
          description: 공동현관 구독 여부
          example: false
        is_temporary_access:
          type: boolean
          description: 임시 접근 허용 여부
          example: false
        temp_car_limit:
          type: number
          description: 임시 차량 제한 수
          example: 2
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
      required:
        - id
        - household_instance_id
        - can_add_new_resident
        - is_common_entrance_subscribed
        - is_temporary_access
        - temp_car_limit
        - created_at
        - updated_at
    HouseholdVisitConfigDto:
      type: object
      properties:
        id:
          type: number
          description: 방문 설정 ID
          example: 1
        household_instance_id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        available_visit_time:
          type: number
          description: 사용 가능한 방문 시간
          example: 120
        purchased_visit_time:
          type: number
          description: 구매한 방문 시간
          example: 300
        visit_request_limit:
          type: number
          description: 방문 요청 제한
          example: 5
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
      required:
        - id
        - household_instance_id
        - available_visit_time
        - purchased_visit_time
        - visit_request_limit
        - created_at
        - updated_at
    HouseholdInstanceDetailDto:
      type: object
      properties:
        id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        household_id:
          type: number
          description: 세대 ID
          example: 1
        instance_name:
          type: string
          description: 인스턴스 이름
          example: 김철수 가족
        password:
          type: string
          description: 패스워드 (4자리)
          example: '1234'
        start_date:
          type: string
          description: 시작일
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        end_date:
          type: string
          description: 종료일
          example: '2025-12-31T00:00:00.000Z'
          format: date-time
        memo:
          type: string
          description: 멤모
          example: 특이사항 없음
        created_at:
          type: string
          description: 생성일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        updated_at:
          type: string
          description: 수정일시
          example: '2025-01-01T00:00:00.000Z'
          format: date-time
        household:
          description: 세대 정보
          allOf:
            - $ref: '#/components/schemas/HouseholdWithParkinglotDto'
        resident_households:
          description: 거주자 목록
          items:
            type: array
          type: array
        service_config:
          description: 서비스 설정
          allOf:
            - $ref: '#/components/schemas/HouseholdServiceConfigDto'
        visit_config:
          description: 방문 설정
          allOf:
            - $ref: '#/components/schemas/HouseholdVisitConfigDto'
      required:
        - id
        - household_id
        - password
        - created_at
        - updated_at
        - household
        - resident_households
    UpdateHouseholdInstanceDto:
      type: object
      properties:
        instance_name:
          type: string
          description: 인스턴스 이름 (가족명 등)
          example: 김씨가족
        password:
          type: string
          description: 세대 비밀번호 (4자리 숫자)
          example: '1234'
        start_date:
          type: string
          description: 입주 시작일
          example: '2024-01-01'
        end_date:
          type: string
          description: 입주 종료일
          example: '2025-12-31'
        memo:
          type: string
          description: 메모
          example: 2년 계약
    CreateHouseholdServiceConfigDto:
      type: object
      properties:
        household_instance_id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        can_add_new_resident:
          type: boolean
          description: 신규 거주자 추가 가능 여부
          example: false
        is_common_entrance_subscribed:
          type: boolean
          description: 공동현관 구독 여부
          example: false
        is_temporary_access:
          type: boolean
          description: 임시 접근 허용 여부
          example: false
        temp_car_limit:
          type: number
          description: 임시 차량 제한 수
          example: 0
      required:
        - household_instance_id
    CreateHouseholdVisitConfigDto:
      type: object
      properties:
        household_instance_id:
          type: number
          description: 세대 인스턴스 ID
          example: 1
        available_visit_time:
          type: number
          description: 사용 가능한 방문 시간 (분)
          example: 0
        purchased_visit_time:
          type: number
          description: 구매한 방문 시간 (분)
          example: 0
        visit_request_limit:
          type: number
          description: 방문 요청 제한 수
          example: 0
      required:
        - household_instance_id