# 커뮤니티 시설 좌석 예약 시스템 기획서

## 1. 프로젝트 개요

### 1.1 목적

- 다양한 구조의 커뮤니티 시설(독서실, 카페, 스터디룸 등)에 범용적으로 적용 가능한 좌석 예약 시스템
- 시설 관리자와 일반 사용자 모두가 직관적으로 사용할 수 있는 시각화 기반 인터페이스

### 1.2 핵심 가치

- **범용성**: 어떤 구조의 시설이든 표준화된 방식으로 처리
- **직관성**: 드래그 앤 드롭 없이도 키보드만으로 빠른 설정 가능
- **확장성**: 새로운 시설 유형과 좌석 타입 추가 용이

## 2. 시스템 구조

### 2.1 템플릿 기반 그리드 시스템

```
- 기본 단위: 1x1 셀 (40x40px)
- 시설별 캔버스: 최대 30x30 격자 (확장 가능)
- 각 셀에는 하나의 객체만 배치 가능
- 객체는 여러 셀에 걸쳐 배치 가능 (2x1, 2x2 등)
```

### 2.2 3가지 객체 타입

#### 좌석 (Seat)

```javascript
{
  type: "seat",
  name: "A-01", // 사용자 입력 가능
  size: { width: 1, height: 1 },
  status: "available", // available, occupied, reserved
  reservable: true
}
```

#### 공간 (Space)

```javascript
{
  type: "space",
  size: { width: 2, height: 3 },
  reservable: false
}
```

#### 사물 (Object)

```javascript
{
  type: "object",
  name: "화장실", // 사용자 입력 가능
  size: { width: 1, height: 2 },
  reservable: false
}
```

## 3. 시설 운영진 기능

### 3.1 초기 설정 프로세스

#### 1단계: 시설 기본 정보 입력

- 시설명, 카테고리 (독서실/카페/스터디룸 등)
- 격자 크기 선택 (10x10, 15x20, 20x15, 사용자 정의)

#### 2단계: 레이아웃 배치 (키보드 기반)

- **섹터 지정 모드**: 빠른 영역 설정
- **항목별 이름 입력 모드**: 상세 정보 입력
- **미리보기 모드**: 최종 확인

#### 3단계: 미리보기 및 저장

- 사용자 화면 미리보기
- 저장 후 즉시 서비스 오픈

### 3.2 섹터 지정 모드

#### 기본 조작

```
이동:
- ↑↓←→: 셀 단위 이동
- Page Up/Down: 상하 10칸 이동
- Home/End: 가로 끝까지 이동

객체 배치:
- Q: 현재 셀을 좌석으로 설정
- W: 현재 셀을 빈공간으로 설정
- E: 현재 셀을 사물로 설정
- X: 현재 셀 삭제 (빈 셀로 복귀)
- Space: 객체 타입 순환 (좌석→빈공간→사물)
```

#### 다중 선택 기능

```
영역 선택:
- Shift + 방향키: 시작점부터 드래그 선택
- Ctrl + 방향키: 현재 방향 끝까지 이동
- Ctrl + Shift + 방향키: 현재 방향 끝까지 드래그 선택
- Ctrl + A: 전체 선택

일괄 배치:
- 영역 선택 후 Q/W/E: 선택된 모든 셀을 해당 타입으로 설정
- 영역 선택 후 X: 선택된 모든 셀 삭제
```

#### 추가 편의 기능

```
편집 기능:
- Ctrl + Z: 실행 취소
- Ctrl + Y: 다시 실행
- Ctrl + C: 복사
- Ctrl + V: 붙여넣기

템플릿 기능:
- 1~9: 미리 정의된 패턴 적용
  * 1: 전체 좌석 (격자 패턴)
  * 2: 좌석 + 중앙 통로
  * 3: ㄱ자형 배치
  * 4: 원형 배치
```

### 3.3 항목별 이름 입력 모드

#### 네비게이션

```
자동 순회:
- Tab: 다음 좌석/사물로 이동
- Shift + Tab: 이전 좌석/사물로 이동
- ↑↓←→: 수동 이동 (좌석/사물만 선택됨)

순회 순서:
1. 좌석 우선 (좌상단 → 우하단)
2. 사물 다음 (좌상단 → 우하단)
```

#### 이름 입력 시스템

```
좌석 이름:
- Enter: 현재 좌석 이름 입력 모드
- 기본값: "A-01", "A-02" 순차 생성
- 패턴 입력: "A-{n}" → A-01, A-02, A-03...
- 사용자 정의: "창가석1", "조용한자리" 등

사물 이름:
- Enter: 현재 사물 이름 입력 모드
- 기본값: "벽", "기둥", "화장실" 등
- 사용자 정의: "남자화장실", "프린터실" 등

일괄 입력:
- Ctrl + Enter: 선택된 영역 일괄 이름 입력
- 패턴 적용: "A-{n:01~20}" → A-01부터 A-20까지
```

### 3.4 관리 기능

#### 실시간 현황 대시보드

- 전체 좌석 현황 (사용중/예약됨/사용가능)
- 좌석별 상태 변경 (강제 해제, 점검중 처리)
- 예약 현황 및 통계

#### 레이아웃 수정

- 좌석 추가/삭제/이동
- 이름 변경
- 임시 휴업 좌석 처리

## 4. 사용자 기능

### 4.1 좌석 선택 화면

#### 상단 정보

- 시설명, 현재 시간
- 전체 좌석 수 / 사용 가능 좌석 수
- 새로고침 버튼

#### 좌석 맵

- 격자 기반 레이아웃 표시
- 상태별 색상 구분
  - 초록: 사용 가능
  - 빨강: 사용 중
  - 노랑: 예약됨
  - 회색: 사용 불가
- 좌석 이름 표시 (A-01, 창가석1 등)

#### 하단 액션

- 선택한 좌석 정보
- 예약 시간 선택
- 예약 확정 버튼

### 4.2 예약 프로세스

```
1단계: 좌석 클릭 선택
2단계: 사용 시간 선택 (1시간, 2시간, 종일 등)
3단계: 예약 확정
4단계: 예약 확인 (QR코드, 좌석 위치 안내)
```

### 4.3 편의 기능

#### 필터링

- 사용 가능한 좌석만 보기

#### 검색

- 좌석 이름으로 검색 (A-01)

## 5. 시각적 디자인

### 5.1 색상 스키마

```javascript
const colorScheme = {
	seat: '#3B82F6', // 포인트 블루 (좌석)
	space: '#1F2937', // 다크 그레이 (빈공간)
	object: '#6B7280', // 미드 그레이 (사물)
	empty: '#F9FAFB', // 라이트 그레이 (빈 셀)
	selected: '#F59E0B', // 오렌지 (선택됨)
	cursor: '#EF4444', // 레드 (현재 위치)
	available: '#10B981', // 초록 (사용 가능)
	occupied: '#EF4444', // 빨강 (사용 중)
	reserved: '#F59E0B', // 노랑 (예약됨)
	disabled: '#6B7280', // 회색 (사용 불가)
};
```

### 5.2 상태 표시

```
배치 모드:
- 선택된 영역: 오렌지 배경 + 점선 테두리
- 현재 커서: 빨간 테두리
- 배치된 객체: 각 타입별 색상 + 아이콘

사용자 모드:
- 좌석 상태별 색상 + 아이콘
- 호버 시 상세 정보 툴팁
- 선택 시 하이라이트 효과
```

## 6. 기술적 고려사항

### 6.1 성능 최적화

```
- 격자 기반 렌더링으로 연산 효율화
- 상태 변경 시 해당 셀만 업데이트
- 실시간 동기화 최적화
```

### 6.2 확장성

```
- 새로운 좌석 타입 추가 가능
- 새로운 사물 타입 추가 가능
```

## 7. 사용자 경험 플로우

### 7.1 관리자 워크플로우

```
시설 등록 → 기본 정보 입력 → 섹터 지정 → 이름 입력 → 미리보기 → 서비스 오픈
                ↓
운영 중 관리 → 실시간 모니터링 → 레이아웃 수정 → 통계 확인
```

### 7.2 사용자 워크플로우

```
시설 검색 → 좌석 맵 확인 → 좌석 선택 → 시간 선택 → 예약 확정 → 현장 방문
```

## 8. 구현 우선순위

### Phase 1: 핵심 기능

- 격자 기반 레이아웃 시스템
- 키보드 기반 배치 도구
- 기본 예약 시스템

### Phase 2: 사용성 개선

- 템플릿 기능
- 기본 필터링/검색

### Phase 3: 확장 기능

- 통계 대시보드
