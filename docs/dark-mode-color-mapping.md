# 🌓 다크모드 색상 매핑 가이드

## 📖 매핑 원칙

### 🎯 핵심 철학: 요소별 차별화된 매핑

다크모드는 단순히 색상을 뒤집는 것이 아니다. **요소의 역할**에 따라 서로 다른 매핑 전략을 사용해야 한다.

### 1️⃣ 배경 요소 (Layout): 순차 매핑

**명도 관계를 유지**하여 공간의 깊이와 계층구조를 일관되게 유지한다.

```css
/* 라이트 → 다크 (순차 매핑) */
card (100%) → card (12%)     /* 가장 밝음 → 상대적 밝음 */
background (98%) → background (8%)   /* 밝음 → 상대적 어둠 */
muted (94%) → muted (18%)    /* 중간 → 중간 어둠 */
```

**왜 이렇게?** 어두운 영역은 여전히 어두워 보여야 하고, 밝은 영역은 여전히 밝아 보여야 사용자가 공간을 직관적으로 인식할 수 있다.

### 2️⃣ 텍스트/UI 요소 (Content): 역순 매핑

**의미적 역할을 유지**하여 동일한 중요도와 가독성을 보장한다.

```css
/* 라이트 → 다크 (역순 매핑) */
primary (20%) → primary (85%)     /* 가장 중요 → 가장 중요 */
secondary (30%) → secondary (70%) /* 보조 → 보조 */
accent (40%) → accent (60%)       /* 강조 → 강조 */
```

**왜 이렇게?** Primary 텍스트는 항상 배경과 최고 대비를 가져야 하고, 같은 의미적 역할을 하는 요소는 두 모드에서 동일한 시각적 중요도를 유지해야 한다.

### 3️⃣ 상태 색상: 채도 조정

다크모드에서는 밝기를 10% 정도 증가시켜 더 부드럽게 만든다.

```css
/* 채도 유지, 밝기 증가 */
destructive: 51% → 60%
warning: 50% → 60%
success: 45% → 55%
```

## 🎨 10단계 그레이 스케일

### 라이트 테마

```css
--gray-0: 100%  /* 순수 흰색 */
--gray-1: 98%   /* 거의 흰색 */
--gray-2: 94%   /* 매우 밝음 */
--gray-3: 88%   /* 밝음 */
--gray-4: 80%   /* 중간 밝음 */
--gray-5: 60%   /* 중간 */
--gray-6: 40%   /* 중간 어둠 */
--gray-7: 30%   /* 어둠 */
--gray-8: 20%   /* 매우 어둠 */
--gray-9: 5%    /* 거의 검정 */
```

### 다크 테마

```css
--gray-0: 5%    /* 거의 검정 */
--gray-1: 8%    /* 매우 어둠 */
--gray-2: 12%   /* 어둠 */
--gray-3: 18%   /* 중간 어둠 */
--gray-4: 25%   /* 중간 */
--gray-5: 40%   /* 중간 밝음 */
--gray-6: 60%   /* 밝음 */
--gray-7: 70%   /* 매우 밝음 */
--gray-8: 85%   /* 거의 흰색 */
--gray-9: 95%   /* 순수 흰색에 가까움 */
```

## 🔧 실제 사용법

### ✅ 권장 사용법

#### 1. 시맨틱 변수 사용 (추천)

```tsx
// 배경 요소
<div className="bg-background border border-border">
  <div className="bg-card text-card-foreground">
    {/* 자동으로 테마별 적절한 색상 적용 */}
  </div>
</div>

// 텍스트/UI 요소
<button className="bg-primary text-primary-foreground">
  {/* 라이트: 어두운 배경에 밝은 글자 */}
  {/* 다크: 밝은 배경에 어두운 글자 */}
</button>
```

#### 2. 직접 스케일 사용 (특수한 경우만)

```tsx
// 명시적으로 특정 단계가 필요한 경우
<div style={{ backgroundColor: 'hsl(var(--gray-3))' }}>
  {/* 라이트: 88%, 다크: 18% */}
</div>
```

### ❌ 피해야 할 사용법

```tsx
// ❌ 하드코딩된 색상
<div className="bg-gray-200 text-gray-800">

// ❌ 테마별로 다른 변수
<div className={isDark ? 'bg-gray-800' : 'bg-gray-100'}>

// ❌ 임의의 HSL 값
<div style={{ color: 'hsl(0, 0%, 45%)' }}>
```

## 📊 매핑 테이블

| 용도 | 라이트 테마 | 다크 테마 | 매핑 방식 |
|------|-------------|-----------|-----------|
| **배경 요소** | | | **순차 매핑** |
| card | gray-0 (100%) | gray-2 (12%) | 가장 밝음 → 상대적 밝음 |
| background | gray-1 (98%) | gray-1 (8%) | 밝음 → 상대적 어둠 |
| muted | gray-2 (94%) | gray-3 (18%) | 중간 밝음 → 중간 어둠 |
| border | gray-3 (88%) | gray-4 (25%) | 경계선 → 경계선 |
| **텍스트/UI 요소** | | | **역순 매핑** |
| foreground | gray-9 (5%) | gray-9 (95%) | 기본 텍스트 → 기본 텍스트 |
| primary | gray-8 (20%) | gray-8 (85%) | 주요 → 주요 |
| secondary | gray-7 (30%) | gray-7 (70%) | 보조 → 보조 |
| accent | gray-6 (40%) | gray-6 (60%) | 강조 → 강조 |

## 🎛️ 마이그레이션 체크리스트

### 기존 코드 점검

```bash
# 하드코딩된 색상 찾기
grep -r "bg-gray-[0-9]" src/
grep -r "text-gray-[0-9]" src/
grep -r "hsl(" src/
```

### 단계별 전환

1. **하드코딩 색상 → 시맨틱 변수**
2. **임시 색상 → 그레이 스케일 변수**
3. **일관성 검증 및 테스트**

### 컴포넌트별 우선순위

1. 🔥 **높음**: Layout, Button, Card
2. 🔶 **중간**: Form, Table, Modal  
3. 🔵 **낮음**: Icon, Badge, Tooltip

## 🧪 테스트 가이드

### 시각적 검증 포인트

- [ ] 배경 계층구조가 두 테마에서 일관된가?
- [ ] Primary 버튼이 두 테마에서 동일한 시각적 중요도를 갖는가?
- [ ] 텍스트 가독성이 충분한가? (WCAG AA: 4.5:1)
- [ ] 상태 색상이 자연스러운가?

### 테스트 페이지 활용

```tsx
// lab/system-testing/theme-test/ 페이지에서 
// 실시간으로 색상 매핑을 확인할 수 있다
```

## 🔮 향후 확장

### 추가 컬러 스케일

필요시 Blue, Green 등 색상 스케일도 동일한 원칙으로 확장 가능:

```css
/* 예시: Blue 스케일 */
--blue-light-5: 210 100% 90%;  /* 라이트 테마 */
--blue-dark-5: 210 100% 60%;   /* 다크 테마 (더 부드럽게) */
```

### 접근성 강화

- 색맹 사용자를 위한 패턴/텍스처 추가
- 고대비 모드 지원
- 모션 감소 옵션

---

**📍 참고**: 이 시스템은 Material Design, Apple HIG 등 주요 디자인 시스템의 표준 접근법을 따른다.
