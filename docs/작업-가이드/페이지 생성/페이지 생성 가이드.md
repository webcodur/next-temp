# 페이지 생성 가이드

이 문서는 프로젝트의 페이지 생성 시 일관된 패턴과 원칙을 제시한다. AI는 이 가이드를 바탕으로 각 프로젝트에 맞는 작업 TodoList를 생성하여 진행한다.

## 전역 개발 원칙

### 기본 철학
- **KISS**: 단순하고 명확하게 구현한다
- **일관성**: 기존 패턴을 따르고 동일한 기능은 동일한 방식으로 구현한다
- **사용자 경험**: 직관적이고 예측 가능한 인터페이스를 제공한다

### 코딩 규칙
- **에러 처리**: 모든 API 호출에 `try-catch` 적용, `result.success` 확인 필수
- **네이밍**: 컴포넌트는 `[도메인][기능]Page` 형태, 핸들러는 `handle[액션]` 형태
- **Import 순서**: React → 외부 라이브러리 → UI 컴포넌트 → API 서비스 → 타입 정의 → 스토어
- **파일 크기**: 파일당 200줄 이하 권장

## 페이지 유형별 구현 패턴

### 1. 목록 페이지 (List Page)

#### 핵심 역할
데이터의 **조회, 검색, 삭제, 생성 진입점** 역할을 한다. 사용자가 시스템의 데이터를 탐색하는 주요 허브다.

#### 필수 구성 요소

**PageHeader**
- 제목과 설명으로 페이지 목적 명시
- 우측에 "추가" 버튼으로 생성 페이지 진입점 제공

**AdvancedSearch**
- 사용법은 `@advanced-search.example.tsx` 참조
- **Field 컴포넌트에 label prop 반드시 설정**
- **검색 실행 조건**: 페이지 최초 진입 시에만 자동 로드, 이후에는 검색 버튼 클릭 시에만 실행

**PaginatedTable**
- 사용법은 `@table.example.tsx` 참조
- **복잡한 객체 데이터는 셀 클릭 시 모달로 표시**

#### 컴포넌트 표준

**필수 사용 컴포넌트**
- **AdvancedSearch**: 검색 필터링 처리 (`@advanced-search.example.tsx` 참조)
- **Field**: 모든 입력 필드 (`@field.example.tsx` 참조, label prop 필수)
- **PaginatedTable**: 데이터 목록 표시 및 페이지네이션 (`@table.example.tsx` 참조)

**Modal**
- 사용법은 `@modal.example.tsx` 참조

#### 구현 원칙

**상태 관리**
- 데이터 목록, 검색 필터, 모달 상태를 분리하여 관리
- `useCallback`으로 핸들러 최적화, `useMemo`로 계산값 최적화
- 에러 발생 시 빈 배열로 초기화하여 UI 깨짐 방지
- **데이터 로드 정책**: 최초 진입 시에만 기본 데이터 자동 로드, 이후 검색은 사용자 액션에 의해서만 실행

**삭제 처리 흐름**
- 삭제 버튼 클릭 → 확인 모달 → API 호출 → 로컬 상태 업데이트
- 낙관적 업데이트로 즉시 UI 반영
- 실패 시 원복 또는 새로고침 안내

### 2. 상세 페이지 (Detail Page)

#### 핵심 역할
개별 데이터의 **상세 조회와 편집**을 담당한다. 특정 항목을 깊이 있게 탐색하고 필요시 수정할 수 있는 작업 공간이다.

#### 정보 표시 및 편집 정책

**기본 표시 원칙**
- **모든 데이터 정보를 기본적으로 표시** (등록일, 수정일, 메타데이터 포함)
- 수정 가능한 항목은 **항상 편집 가능한 상태**로 표시
- 시스템 생성 항목(ID, 등록일 등)만 **비활성화 상태**로 표시

**필드 활성화 기준**
- **편집 가능**: 사용자 입력 데이터 (이름, 설명, 설정값 등)
- **비활성화**: 시스템 생성 데이터 (ID, 등록일, 수정일 등)

#### 네비게이션 구조
- 좌측 뒤로가기 버튼으로 기존에 있었던 페이지로 복귀
- 페이지 제목에 대상 항목 식별 정보 표시
- 폼 하단 우측에 저장 버튼 배치

#### 핵심 구현 원칙

**상태 분리 전략**
- 원본 데이터(`data`)와 폼 데이터(`formData`) 독립 관리
- 편집 시작 시점의 원본(`originalData`) 별도 보관
- 로딩, 편집모드, 제출중 등 UI 상태 명확히 구분

**변경 감지 메커니즘**
- 실시간으로 원본과 현재 값 비교
- 변경 없으면 저장 버튼 비활성화
- 필수 필드 검증과 변경 여부 모두 충족 시에만 저장 허용

**폼 데이터 관리**
- 저장 시 변경된 필드만 API 전송
- 실시간 유효성 검증으로 저장 버튼 활성화 제어
- **원본 데이터 복구**: 사용자가 실수로 수정한 내용을 원래 상태로 되돌리는 초기화 기능 제공

#### 컴포넌트 표준

**필수 사용 컴포넌트**
- **GridForm**: 라벨-컨텐츠 구조의 일관된 폼 레이아웃 (`@grid-form.example.tsx` 참조)
- **SimpleTextInput**: 텍스트 입력 필드 (`@simple-input.example.tsx` 참조)
- **SimpleDropdown**: 선택 옵션 필드 (`@simple-input.example.tsx` 참조)
- **SimpleCheckbox/CheckboxGroup**: 체크박스 선택 (`@simple-input.example.tsx` 참조)
- **SimpleRadioGroup**: 라디오 버튼 선택 (`@simple-input.example.tsx` 참조)

**레이아웃 가이드**
- GridForm `labelWidth="120px"` 권장
- 시스템 생성 필드는 항상 표시하되 `disabled` 상태로 처리
- 사용자 입력 필드는 항상 편집 가능한 상태로 표시

### 3. 생성 페이지 (Create Page)

#### 핵심 역할
새로운 데이터를 **입력하고 생성**하는 전용 페이지다. 시스템에 새로운 정보를 추가할 수 있는 진입점이다.

#### 설계 원칙

**단순화된 워크플로우**
- 상세 페이지와 달리 조회 모드 없이 입력에만 집중
- 취소 시 목록 페이지로 즉시 복귀
- 생성 완료 시 자동으로 목록 페이지 이동

**즉시 피드백**
- 필수 필드 실시간 검증
- 저장 버튼 활성화 상태로 진행 가능 여부 표시
- 생성 중 로딩 상태로 중복 제출 방지

#### 컴포넌트 표준

**필수 사용 컴포넌트**
- **GridForm**: 라벨-컨텐츠 구조의 일관된 폼 레이아웃 (`@grid-form.example.tsx` 참조)
- **SimpleTextInput**: 텍스트 입력 필드 (`@simple-input.example.tsx` 참조)
- **SimpleDropdown**: 선택 옵션 필드 (`@simple-input.example.tsx` 참조)
- **SimpleCheckbox/CheckboxGroup**: 체크박스 선택 (`@simple-input.example.tsx` 참조)
- **SimpleRadioGroup**: 라디오 버튼 선택 (`@simple-input.example.tsx` 참조)

**레이아웃 가이드**
- 상세 페이지와 동일한 GridForm 구조 사용
- 시스템 생성 필드(ID, 등록일 등)는 제외

### 4. 공통 폼 컴포넌트 설계

#### 재사용성 원칙

**핵심 규칙: 하나의 폼, 두 가지 모드**
- 동일한 데이터 모델에 대해 **등록, 상세** 페이지는 **동일한 폼 컴포넌트**를 사용한다
- 페이지는 달라도 **호출하는 항목들은 거의 동일**하므로 코드 중복을 철저히 방지한다
- `mode` prop으로 `create | update` 모드를 구분하여 하나의 컴포넌트에서 모든 상황을 처리한다

**모드별 동작**
- **등록 모드** (`create`): 모든 입력 필드 활성화, 시스템 생성 필드(ID, 등록일 등) 제외
- **상세 모드** (`update`): 모든 필드 표시, 사용자 입력 필드는 활성화, 시스템 필드만 비활성화

#### 폼 레이아웃 표준
- **GridForm** 컴포넌트로 일관된 라벨-컨텐츠 구조 (`@grid-form.example.tsx` 참조)
- 라벨 너비 `120px`, 간격 `16px`로 통일
- **Simple 시리즈 컴포넌트 의무 사용** (`@simple-input.example.tsx` 참조):
  - `SimpleTextInput`: 모든 텍스트 입력
  - `SimpleDropdown`: 모든 선택 옵션
  - `SimpleCheckbox/CheckboxGroup`: 체크박스
  - `SimpleRadioGroup`: 라디오 버튼
- `disabled` 속성으로 시스템 필드와 사용자 필드 구분

#### 폼 버튼 배치 표준
- **액션 버튼은 GridForm 바깥에 배치**
- 폼 하단 우측 정렬 (`flex justify-end`)
- 버튼 간격: `gap-2` (8px)
- 버튼 순서: 취소/초기화 → 주요 액션(저장/등록)
- 버튼 위쪽 여백: `mt-4` (16px)

**모드별 버튼 구성**
- **등록 모드**: 취소 + 등록 버튼
- **상세 모드**: 초기화 + 저장 버튼 (초기화는 원본 데이터로 복구)

## 페이지별 컴포넌트 매핑

### 필수 컴포넌트 사용 규칙

| 페이지 유형 | 핵심 컴포넌트 | 용도 |
|-------------|---------------|------|
| **목록 페이지** | AdvancedSearch + Field + PaginatedTable | 검색 필터링 + 데이터 목록 표시 |
| **상세 페이지** | GridForm + SimpleInput 시리즈 | 정보 표시/편집 폼 |
| **생성 페이지** | GridForm + SimpleInput 시리즈 | 데이터 입력 폼 |

### Simple 시리즈 컴포넌트 매핑

| 입력 유형 | 컴포넌트 | 사용 예시 |
|-----------|----------|-----------|
| 텍스트 입력 | `SimpleTextInput` | 이름, 설명, 메모, 주소 |
| 선택 옵션 | `SimpleDropdown` | 타입, 카테고리, 상태 |
| 체크박스 | `SimpleCheckbox` | 단일 체크 (동의, 활성화) |
| 체크박스 그룹 | `SimpleCheckboxGroup` | 다중 선택 (권한, 관심사) |
| 라디오 버튼 | `SimpleRadioGroup` | 단일 선택 (성별, 우선순위) |
| 토글 스위치 | `SimpleToggleSwitch` | On/Off 설정 |
| 토글 버튼 | `SimpleToggleButton` | 모드 전환 |

## 구현 시 고려사항

### API 서비스 패턴
- 서비스 파일은 `src/services/[도메인]/` 폴더에 배치
- 파일명은 `[endpoint]_[METHOD].ts` 형태 (예: `admin_GET.ts`)
- 에러 응답도 타입 정의에 포함

### 타입 정의 전략
- 기존 타입 파일(`src/types/`)에서 관련 타입 확인 후 확장
- 옵셔널 필드는 `?` 사용, null 허용은 `| null` 명시

### UI/UX 일관성 표준
- **카드 형태**: `bg-card rounded-lg border border-border p-6`
- **섹션 간격**: `flex flex-col gap-6`
- **고정 버튼**: `fixed right-6 bottom-6 z-50`
- **버튼 variant**: 중요도별 선택 (`accent` > `default` > `ghost`)

### 접근성 및 성능
- 모든 버튼에 `title` 속성으로 기능 설명 제공
- 로딩 중 상태 명시적 표시
- 불필요한 리렌더링 방지 위한 Hook 활용
- 키보드 네비게이션 지원

이 가이드를 바탕으로 각 프로젝트 특성에 맞는 구체적인 작업 계획을 수립하여 진행한다.