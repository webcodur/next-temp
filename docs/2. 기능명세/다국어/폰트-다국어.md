# 멀티언어 폰트 시스템

## 🎯 기본 사용법

99% 상황에서는 `font-multilang` 클래스 하나만 사용한다.

```tsx
<div className="font-multilang">
  Mixed 텍스트 مختلط - Hello 안녕하세요 مرحبا 123
</div>
```

브라우저가 유니코드 범위를 기반으로 문자별 최적 폰트를 자동 선택한다.

## 🔧 웨이트 변경

Pretendard는 100~900 웨이트를 지원한다.

```tsx
<h1 className="font-multilang font-bold">굵은 제목</h1>
<p className="font-multilang font-normal">일반 텍스트</p>
<span className="font-multilang font-light">얇은 텍스트</span>
```

## ⚙️ 유니코드 기반 자동 언어 분류

`font-multilang`은 CSS의 `unicode-range` 속성을 활용하여 문자별로 최적 폰트를 자동 선택한다.

### 언어별 유니코드 범위

**한국어 (Pretendard 적용)**
```css
unicode-range: 
  U+AC00-D7AF,  /* 한글 완성형 (가-힣) */
  U+1100-11FF,  /* 한글 자모 (ㄱ-ㅣ) */
  U+3130-318F,  /* 한글 호환 자모 (ㄱ-ㅣ) */
  U+A960-A97F,  /* 한글 확장-A */
  U+D7B0-D7FF;  /* 한글 확장-B */
```

**아랍어 (Cairo 적용)**
```css
unicode-range:
  U+0600-06FF,  /* 아랍어 기본 */
  U+0750-077F,  /* 아랍어 보조 */
  U+08A0-08FF,  /* 아랍어 확장-A */
  U+FB50-FDFF,  /* 아랍어 표현형-A */
  U+FE70-FEFF;  /* 아랍어 표현형-B */
```

**영어/라틴어 (Pretendard 적용)**
```css
unicode-range:
  U+0000-00FF,  /* 기본 라틴어 (A-Z, a-z) */
  U+0131,       /* 점 없는 소문자 i */
  U+0152-0153,  /* 합자 Œ, œ */
  U+02BB-02BC,  /* 어포스트로피 변형 */
  U+02C6,       /* 곡절 악센트 */
  U+02DA,       /* 링 어버브 */
  U+02DC,       /* 작은 물결표 */
  U+2000-206F,  /* 일반 구두점 */
  U+2074,       /* 위첨자 4 */
  U+20AC,       /* 유로 기호 */
  U+2122,       /* 상표 기호 */
  U+2191,       /* 위쪽 화살표 */
  U+2193,       /* 아래쪽 화살표 */
  U+2212,       /* 마이너스 기호 */
  U+2215,       /* 나눗셈 슬래시 */
  U+FEFF,       /* 바이트 순서 표시 */
  U+FFFD;       /* 대체 문자 */
```

### 자동 선택 과정

1. **문자 입력**: `안녕 Hello مرحبا`
2. **브라우저 분석**: 각 문자의 유니코드 값 확인
3. **폰트 매칭**: 
   - `안녕` → U+C548, U+B155 → Pretendard
   - `Hello` → U+0048, U+0065... → Pretendard
   - `مرحبا` → U+0645, U+0631... → Cairo
4. **렌더링**: 문자별 최적 폰트로 표시

## 🌍 아랍어 RTL 처리

아랍어가 포함된 경우에만 RTL을 적용한다.

```tsx
const hasArabic = /[\u0600-\u06FF]/.test(text); // 아랍어 포함 여부 체크

<div 
  className="font-multilang"
  dir={hasArabic ? 'rtl' : 'ltr'}
  style={{ textAlign: hasArabic ? 'right' : 'left' }}
>
  {text}
</div>
```

## 📦 특수 사용 (1% 경우)

특정 폰트를 강제로 사용해야 하는 경우에만 개별 클래스를 사용한다.

```tsx
<div className="font-pretendard">한국어만</div>
<div className="font-inter">영어만</div>
<div className="font-cairo">아랍어만</div>
```

## 🚫 금지사항

### 언어 감지 로직 사용 금지

```tsx
// ❌ 복잡한 감지 로직
const lang = detectLanguage(text);
const fontClass = getFontClass(lang);

// ✅ 단순하게 해결
<div className="font-multilang">{text}</div>
```

### 언어별 조건부 처리 금지

```tsx
// ❌ 조건부 처리
{lang === 'ko' && <div className="font-pretendard">{text}</div>}

// ✅ 한 번에 해결
<div className="font-multilang">{text}</div>
```

## ⚡ 성능 최적화

### 서브셋 폰트
- **한국어**: 자주 사용되는 글자만 포함한 woff2 서브셋 사용
- **가변 폰트**: Cairo는 100-900 웨이트를 단일 파일로 지원
- **font-display: swap**: 폰트 로딩 중에도 텍스트 즉시 표시

### 폰트 로딩 전략
```css
font-display: swap;  /* 폴백 폰트로 먼저 표시 후 교체 */
```

### 폴백 시스템
- MultiLang 로딩 실패 시 Pretendard 단독 폰트로 자동 전환
- system-ui, sans-serif까지 다단계 폴백 보장

## 🔍 테스트 페이지

`/lab/ui-check/font-test`에서 폰트 적용 결과를 확인할 수 있다.

## 📋 요약

| 기능 | 설명 |
|------|------|
| **자동 분류** | 유니코드 범위 기반으로 문자별 최적 폰트 자동 선택 |
| **지원 언어** | 한국어(Pretendard), 아랍어(Cairo), 영어/라틴어(Pretendard) |
| **RTL 지원** | 아랍어 자동 감지 및 텍스트 방향 처리 |
| **성능 최적화** | 서브셋 폰트 + font-display: swap + 다단계 폴백 |

| 상황 | 해결책 |
|------|--------|
| 일반 텍스트 | `font-multilang` |
| RTL 필요시 | `font-multilang` + `dir="rtl"` |
| 웨이트 변경 | `font-multilang font-bold` |
| 특수 요구사항 | `font-pretendard` 등 개별 폰트 |

**핵심 원칙: 유니코드 기반 자동 분류로 99% 해결**
