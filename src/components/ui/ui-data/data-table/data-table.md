# DataTable 컴포넌트

`DataTable`은 대량의 데이터를 페이지별로 나누어 보여주는 강력하고 유연한 테이블 컴포넌트입니다. `SmartTable`의 핵심 기능 위에 페이지네이션(Pagination) 로직을 통합하여, 사용자가 대규모 데이터셋을 쉽게 탐색할 수 있도록 돕습니다.

## 주요 기능

- **자동 페이지네이션**: 전체 데이터와 페이지 크기를 기반으로 자동으로 데이터를 분할하고 페이지 버튼을 생성합니다.
- **유연한 데이터 소스**: 내부적으로 데이터를 관리하거나, 외부 API와 연동하여 서버 사이드 페이지네이션을 구현할 수 있습니다.
- **상태 제어**: 컴포넌트 외부에서 현재 페이지, 페이지 크기 등을 직접 제어할 수 있는 옵션을 제공합니다.
- **로딩 상태 표시**: 데이터 Fetching 상태를 시각적으로 처리하여 사용자 경험을 향상시킵니다.
- **동적 UI**: 데이터가 한 페이지를 넘지 않으면 페이지네이션 UI를 자동으로 숨겨 깔끔한 화면을 유지합니다.

## 데이터 흐름

`DataTable`은 `usePaginationState` 훅으로 페이지 상태를 관리하고, `usePaginationData` 훅으로 현재 페이지에 표시할 데이터를 계산합니다. 이 두 훅의 결과를 바탕으로 `SmartTable`과 `Pagination` 컴포넌트를 최종적으로 렌더링합니다.

```mermaid
graph TD
    subgraph "입력 (Props)"
        A[전체 데이터]
        B[컬럼 설정]
        C[페이지 상태 (외부 제어)]
    end

    subgraph "DataTable 컴포넌트"
        D(usePaginationState) -- 페이지 상태 관리 --> F
        E(usePaginationData) -- 데이터 계산 --> G
        F(Pagination) -- UI 렌더링
        G(SmartTable) -- 데이터 표시
    end

    C --> D
    A --> E

    subgraph "출력 (UI)"
        H[페이지네이션 컨트롤]
        I[분할된 데이터 테이블]
    end

    F --> H
    G --> I
```

## 사용 시나리오

1.  **클라이언트 사이드 페이지네이션**: 컴포넌트에 전체 데이터 배열을 전달하면, 내부적으로 모든 페이지네이션 로직(상태 관리, 데이터 분할)을 자동으로 처리합니다.
2.  **서버 사이드 페이지네이션**: 외부에서 관리되는 페이지 상태와 데이터 조각을 props로 전달하고, 페이지 변경 이벤트를 콜백 함수로 받아 처리합니다. `isFetching` prop으로 로딩 상태를 전달하여 UI에 즉시 반영할 수 있습니다.

`DataTable`은 이처럼 복잡한 데이터 상호작용을 단순화하여 개발자가 비즈니스 로직에 더 집중할 수 있도록 지원합니다.
